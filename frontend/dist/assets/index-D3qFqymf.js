import{t as e,B as h,x as C,y as A,M as r,r as B,v as m}from"./index-WOgDrsTr.js";import{s as R,u as d,c as i,D as g,C as E,R as T,U as S,S as b,b as k}from"./uinqueId-BBtTEzyu.js";import{d as x,a as F,b as N,C as P}from"./request-ubeBnyl9.js";import{D as $}from"./index-B60p3ypR.js";import{R as H,a as j,C as u}from"./EyeOutlined-DAE5y32J.js";function M({config:t}){const{crudContextAction:n}=x(),{collapsedBox:s,panel:o}=n,{ADD_NEW_ENTITY:a}=t,c=()=>{o.open(),s.close()};return e.jsx(h,{onClick:c,type:"primary",children:a})}function v({row:t}){const n=C(),{crudContextAction:s}=x(),{panel:o,collapsedBox:a,modal:c,readBox:f,editBox:y}=s,l=A(R(t._id)),D=()=>{n(i.currentItem(l)),o.open(),a.open(),f.open()};function I(){n(i.currentAction("update",l)),y.open(),o.open(),a.open()}function w(){n(i.currentAction("delete",l)),c.open()}return e.jsxs(r,{style:{width:130},children:[e.jsx(r.Item,{icon:e.jsx(H,{}),onClick:D,children:"Show"},`${d()}`),e.jsx(r.Item,{icon:e.jsx(F,{}),onClick:I,children:"Edit"},`${d()}`),e.jsx(r.Item,{icon:e.jsx(N,{}),onClick:w,children:"Delete"},`${d()}`)]})}function W({config:t}){return e.jsx($,{config:t,DropDownRowMenu:v,AddNewItem:M})}function _({config:t,formElements:n}){return e.jsxs(e.Fragment,{children:[e.jsx(T,{config:t}),e.jsx(S,{config:t,formElements:n})]})}function L({config:t}){const{crudContextAction:n}=x(),{collapsedBox:s}=n,o=()=>{s.close()};return e.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},style:p.panelHeader,children:[e.jsx(j,{gutter:12,children:e.jsx(u,{className:"gutter-row",span:21,children:e.jsx("h1",{style:p.panelTitle,children:t.panelTitle})})}),e.jsxs(j,{gutter:8,children:[e.jsx(u,{className:"gutter-row",span:21,children:e.jsx(b,{config:t})}),e.jsx(u,{className:"gutter-row",span:3,children:e.jsx(m.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(h,{onClick:o,block:!0,icon:e.jsx(k,{}),style:p.addButton})})})]})]})}function J({config:t,createForm:n,updateForm:s}){const o=C();return B.useLayoutEffect(()=>{o(i.resetState())},[o]),e.jsxs(P,{config:t,fixHeaderPanel:e.jsx(L,{config:t}),sidePanelBottomContent:e.jsx(E,{config:t,formElements:n}),sidePanelTopContent:e.jsx(_,{config:t,formElements:s}),children:[e.jsx(W,{config:t}),e.jsx(g,{config:t})]})}const p={panelHeader:{padding:"20px 20px 12px"},panelTitle:{fontFamily:"'Playfair Display', Georgia, serif",fontSize:22,fontWeight:600,color:"#FAFAFA",marginBottom:16,letterSpacing:"-0.02em"},addButton:{height:44,background:"linear-gradient(135deg, #D4A853 0%, #E8C87A 100%)",border:"none",borderRadius:"10px",color:"#0D0D0D",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center"}};export{J as C};
